var backman=angular.module("backman",["ui.router"]);backman.config(function($httpProvider,$urlRouterProvider,$controllerProvider,$compileProvider,$filterProvider,$provide){"use strict";$httpProvider.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",$httpProvider.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$httpProvider.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",$httpProvider.defaults.headers.get={"X-Requested-With":"XMLHttpRequest"},$httpProvider.defaults.transformRequest=[function(data){var param=function(obj){var name,value,fullSubName,subName,subValue,innerObj,i,query="";for(name in obj)if(obj.hasOwnProperty(name))if(value=obj[name],value instanceof Array)for(i=0;i<value.length;++i)subValue=value[i],fullSubName=name+"["+i+"]",innerObj={},innerObj[fullSubName]=subValue,query+=param(innerObj)+"&";else if(value instanceof Object)for(subName in value)value.hasOwnProperty(subName)&&(subValue=value[subName],fullSubName=name+"."+subName,innerObj={},innerObj[fullSubName]=subValue,query+=param(innerObj)+"&");else void 0!==value&&null!==value&&(query+=encodeURIComponent(name)+"="+encodeURIComponent(value)+"&");return query.length?query.substr(0,query.length-1):query};return angular.isObject(data)&&"[object File]"!==String(data)?param(data):data}],$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file|sms|javascript):/),app.register={controller:$controllerProvider.register,directive:$compileProvider.directive,filter:$filterProvider.register,factory:$provide.factory,service:$provide.service}}),backman.run(function($rootScope,$state,$stateParams){"use strict";$rootScope.$state=$state,$rootScope.$stateParams=$stateParams}),backman.factory("_responePreHandler",function(_tools){"use strict";return{success:function(success,config){if(20001!=success.data.state.code||!config||1!=config.noVerify){if(20001==success.data.state.code)return void(window.location.href="/usercenter/login-show");if(10200!=success.data.state.code&&10205!=success.data.state.code)return success.data.data=null,alert(success.msg||success.data&&success.data.state&&success.data.state.msg),null;if(10205==success.data.state.code)return{};var data=success.data.data?_tools.transKeyName("camel",success.data.data):{};return data.__state=success.data.state,data}},error:function(err){return err}}}),backman.factory("_httpPost",function($http,_tools,_responePreHandler,_setting){"use strict";return function(url,postData,config){return config&&config.ajaxParams||angular.extend(postData,_setting.ajaxParams),postData=_tools.transKeyName("underline",postData),$http({method:"POST",url:url,data:postData}).then(function(success){return _responePreHandler.success(success,config)},function(err){return _responePreHandler.error(err)})}}),backman.factory("_httpGet",function($http,_tools,_responePreHandler,_setting){"use strict";return function(url,getData,config){return config&&config.ajaxParams||angular.extend(getData,_setting.ajaxParams),getData=_tools.transKeyName("underline",getData),$http({method:"GET",url:url,params:getData}).then(function(success){return _responePreHandler.success(success,config)},function(err){return _responePreHandler.error(err)})}}),backman.factory("_setting",function($rootScope){"use strict";var data={base:location.protocol+"//"+location.host,path:""};return{get:function(key){return data[key]},set:function(key,val){data[key]=val}}}),backman.constant("_tools",function(){"use strict";var urlData=null,getUrlParam=function(name){if(!urlData){var url=window.location.href;urlData={};var arr=url.split("?");if(arr.length>1){arr=arr[1].split("&");for(var i=0,l=arr.length;i<l;i++){var a=arr[i].split("=");urlData[a[0]]=a[1]}urlData=transKeyName("camel",urlData)}}return urlData[name]},transKeyName=function(type,json){var toCamel=function(str){var str2="";if(str.indexOf("_")<0)str2=str;else{for(var words=str.split("_"),i=1;i<words.length;i++)words[i]=words[i].substr(0,1).toUpperCase()+words[i].substr(1);str2=words.join("")}return str2},toUnderline=function(str){var str2="";return str2=/[A-Z]/.test(str)?str.replace(/([A-Z])/g,function($1){return"_"+$1.toLowerCase()}):str},transform=function(json,json2){for(var p in json)if(json.hasOwnProperty(p)){var key;"string"==typeof p?"camel"==type?key=toCamel(p):"underline"==type&&(key=toUnderline(p)):key=p,json[p]instanceof Object?json2[key]=transform(json[p],"undefined"==typeof json[p].length?{}:[]):json2[key]=json[p]}return json2};return transform(json,"undefined"==typeof json.length?{}:[])},loadJs=function(jsList){return function($q,$rootScope){var deferred=$q.defer();return $script(jsList,function(){$rootScope.$apply(function(){deferred.resolve()})}),deferred.promise}};return{getUrlParam:getUrlParam,transKeyName:transKeyName,loadJs:loadJs}}()),backman.factory("_validate",function(){"use strict";return{isMobile:function(val){var rgx=/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/i;return rgx.test($.trim(val))},isRequired:function(val){return!!$.trim(val)},isMatchLength:function(val,len){return $.trim(val).length==len},isLengthInRange:function(val,arr){var len=$.trim(val).length;return len>=arr[0]&&len<=arr[1]},isInRange:function(val,arr){return val>=arr[0]&&val<=arr[1]},isIdCard:function(val){var rgx=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$/;return rgx.test($.trim(val))},isTheSame:function(val1,val2){return val1==val2},isCorrectPassword:function(val){var rgx=/^(?!\d+$)(?![a-z]+$).+$/i;return rgx.test($.trim(val))}}});
//# sourceMappingURL=backman.min.js.map
